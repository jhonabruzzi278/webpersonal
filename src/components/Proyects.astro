---
import { getCollection } from "astro:content";
import ProjectCard from "./ProjectCard.astro";

// Obtener solo el proyecto destacado para la página principal
const allProjects = await getCollection("projects");
// Filtrar para mostrar solo el proyecto de la clínica dentista
const featuredProject = allProjects.filter(
  (project) => project.slug === "clinica-dentista"
)[0];
---

<div class="flex flex-col gap-y-8">
  {
    featuredProject && (
      <div class="grid grid-cols-1 max-w-2xl mx-auto">
        <ProjectCard
          title={featuredProject.data.title}
          href={featuredProject.data.link}
          github={featuredProject.data.github}
          imageSrc={featuredProject.data.image}
          imageAlt={featuredProject.data.title}
          descriptionHTML={featuredProject.body || "Proyecto destacado"}
          techs={featuredProject.data.tags}
        />
      </div>
    )
  }

  <!-- Enlace llamativo para ver todos los proyectos -->
  <div class="text-center pt-6">
    <a
      class="group relative inline-block overflow-hidden border border-indigo-600 px-8 py-3 focus:ring-3 focus:outline-hidden"
      href="#"
    >
      <span
        class="absolute inset-y-0 left-0 w-[2px] bg-indigo-600 transition-all group-hover:w-full"
      ></span>

      <span
        class="relative text-sm font-medium text-indigo-600 transition-colors group-hover:text-white"
      >
        Download
      </span>
    </a>
    <path d="m9 18 6-6-6-6"></path>
  </div>
  <div
    class="absolute inset-0 bg-white/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"
  >
  </div>
</div>
