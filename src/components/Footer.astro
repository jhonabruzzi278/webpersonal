---
import { getLangFromUrl, useTranslations } from '../utils/i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Helper para generar URLs correctas
function getLocalizedUrl(targetLang: string, path: string = '') {
  if (targetLang === 'es') {
    return path ? `/${path}` : '/';
  }
  return path ? `/en/${path}` : '/en';
}

const footerText = lang === 'es' 
  ? '© 2025 Desarrollado por' 
  : '© 2025 Developed by';

const contactText = lang === 'es' ? 'Contacto' : 'Contact';
---

<footer class="bg-white/10 rounded-lg shadow-lg m-4 border border-white/20 backdrop-blur-sm">
  <div class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between">
    <span class="text-sm text-white/95 sm:text-center flex items-center gap-2 font-medium">
      <img src="/icono.svg" alt="Logo" class="w-5 h-5" />
      {footerText}
      <a href="mailto:jonathanguerra278@gmail.com" class="hover:underline text-blue-300 hover:text-blue-200 transition-colors font-semibold">Jonathan Guerra</a>
    </span>
    <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-white/85 sm:mt-0">
      <li>
        <a href={getLocalizedUrl(lang, '') + '#sobre-mi'} class="hover:underline hover:text-blue-200 me-4 md:me-6 transition-colors">{t('nav.about')}</a>
      </li>
      <li>
        <a href={getLocalizedUrl(lang, '') + '#experiencia'} class="hover:underline hover:text-blue-200 me-4 md:me-6 transition-colors">{t('nav.experience')}</a>
      </li>
      <li>
        <a href={getLocalizedUrl(lang, lang === 'es' ? 'proyectos' : 'projects')} class="hover:underline hover:text-blue-200 me-4 md:me-6 transition-colors">{t('nav.projects')}</a>
      </li>
      <li>
        <a href="mailto:jonathanguerra278@gmail.com" class="hover:underline hover:text-blue-200 transition-colors">{contactText}</a>
      </li>
    </ul>
  </div>
</footer>
